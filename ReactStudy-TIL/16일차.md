# ë¦¬ë•ìŠ¤ ì´ˆê¸°ì„¤ì •

```
yarn add redux react-redux

ì•„ë˜ì™€ ê°™ì€ ì˜ë¯¸
yarn add redux
yarn add react-redux

```

## src/configStore.js

`src/configStore.js` ì— ì•„ë˜ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.

```
import { createStore } from "redux";
import { combineReducers } from "redux";

/*
1. createStore()
ë¦¬ë•ìŠ¤ì˜ ê°€ì¥ í•µì‹¬ì´ ë˜ëŠ” ìŠ¤í† ì–´ë¥¼ ë§Œë“œëŠ” ë©”ì†Œë“œ(í•¨ìˆ˜) ì…ë‹ˆë‹¤.
ë¦¬ë•ìŠ¤ëŠ” ë‹¨ì¼ ìŠ¤í† ì–´ë¡œ ëª¨ë“  ìƒíƒœ íŠ¸ë¦¬ë¥¼ ê´€ë¦¬í•œë‹¤ê³  ì„¤ëª…í•´ ë“œë ¸ì£ ?
ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•  ì‹œ creatorStoreë¥¼ í˜¸ì¶œí•  ì¼ì€ í•œ ë²ˆë°–ì— ì—†ì„ ê±°ì˜ˆìš”.
*/

/*
2. combineReducers()
ë¦¬ë•ìŠ¤ëŠ” action â€”> dispatch â€”> reducer ìˆœìœ¼ë¡œ ë™ì‘í•œë‹¤ê³  ë§ì”€ë“œë ¸ì£ ?
ì´ë•Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë³µì¡í•´ì§€ê²Œ ë˜ë©´ reducer ë¶€ë¶„ì„ ì—¬ëŸ¬ ê°œë¡œ ë‚˜ëˆ ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•©ë‹ˆë‹¤.
combineReducersì€ ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ reducerì˜ ë°˜í™˜ ê°’ì„ í•˜ë‚˜ì˜ ìƒíƒœ ê°ì²´ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.
*/

const rootReducer = combineReducers({});
const store = createStore(rootReducer);

export default store;
```

## ë¦¬ë•ìŠ¤ëŠ” ì‚¬ìš© ë°©ë²•ì„ ì•„ëŠ”ê²Œ ì¤‘ì .

- **ì„¤ì • ì½”ë“œ ì‘ì„± ì‹œ, ì£¼ì˜ì‚¬í•­**
  - **ìš°ë¦¬ê°€ ì‘ì„±í•˜ëŠ” ì„¤ì •ì½”ë“œëŠ” ì´í•´í•  í•„ìš”ê°€ ì—†ëŠ” ì½”ë“œë“¤ ì…ë‹ˆë‹¤, ì½”ë“œ ë¶„ì„ ê¸ˆì§€ âŒ**
    ì„¤ì • ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì´ìœ ëŠ” ë¦¬ë•ìŠ¤ë¥¼ ë§Œë“  ë¦¬ë•ìŠ¤íŒ€ì—ì„œ ì´ë ‡ê²Œ ì„¤ì •ì„ í•˜ë¼ê³  ì•ˆë‚´í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

---

## index.js

ë””ë ‰í† ë¦¬ì˜ ê°€ì¥ ìµœìƒë‹¨ì— ìˆëŠ” `index.js`ì— ì•„ë˜ ì…ë ¥.

```
// ì›ë˜ë¶€í„° ìˆë˜ ì½”ë“œ
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

// ìš°ë¦¬ê°€ ì¶”ê°€í•  ì½”ë“œ
import store from "./redux/config/configStore";
import { Provider } from "react-redux";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(

	//Appì„ Providerë¡œ ê°ì‹¸ì£¼ê³ , configStoreì—ì„œ export default í•œ storeë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.
  <Provider store={store}>
    <App />
  </Provider>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();


```

---

## ëª¨ë“ˆ ë§Œë“¤ê¸°

ìš°ë¦¬ê°€ ë¦¬ë•ìŠ¤ë¡œ ì²˜ìŒ ë§Œë“¤ì–´ ë³¼ ê²ƒì€ ì˜ˆì „ì— ë§Œë“¤ì—ˆë˜ `ì¹´ìš´í„° í”„ë¡œê·¸ë¨` ì…ë‹ˆë‹¤. `useState` ë¡œ ë§Œë“¤ì—ˆë˜ ê²ƒì„ ë¦¬ë•ìŠ¤ë¡œ ë‹¤ì‹œ ë§Œë“¤ì–´ë´…ì‹œë‹¤.
**ëª¨ë“ˆì´ë€, Stateì˜ ê·¸ë£¹.** ìš°ë¦¬ì˜ ì²« ëª¨ë“ˆì€ ì¹´ìš´í„° í”„ë¡œê·¸ë¨ì— í•„ìš”í•œ Stateë“¤ì´ ëª¨ì—¬ìˆëŠ” ëª¨ë“ˆì´ ë  ê²ƒ ì…ë‹ˆë‹¤. ì•„ë˜ ìˆœì„œëŒ€ë¡œ íŒŒì¼ì„ ìƒì„±í•˜ê³  ì½”ë“œë¥¼ ì…ë ¥í•´ë³´ì

1. `modules` í´ë”ì— `counter.js` íŒŒì¼ì„ ìƒì„±í•œë‹¤.
2. ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

```
// src/modules/counter.js

// ì´ˆê¸° ìƒíƒœê°’
const initialState = {
  number: 0,
};

// ë¦¬ë“€ì„œ = í•¨ìˆ˜ë‹¤.
const counter = (state = initialState, action) => {
  switch (action.type) {
    default:
      return state;
  }
};

// ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
export default counter;
```

---

## ëª¨ë“ˆì˜ êµ¬ì„±ìš”ì†Œ ì‚´í´ë³´ê¸°

- **(1) initialState === ì´ˆê¸° ìƒíƒœê°’**
  ```java
  // ì´ˆê¸° ìƒíƒœê°’
  const initialState = {
    number: 0,
  };
  ```
  ì´ê²ƒì€ initialState ì…ë‹ˆë‹¤. ë‹¨ì–´ ê·¸ëŒ€ë¡œ `ì´ˆê¸° ìƒíƒœê°’` ì…ë‹ˆë‹¤. ì¦‰, ì–´ë–¤ Stateì˜ ì´ˆê¸°ê°’ì„ ì •í•´ì£¼ëŠ” ê²ƒ ì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ `useState`ë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ê´„í˜¸ ì•ˆì— ì´ˆê¸°ê°’ì„ ì§€ì •í•´ì£¼ë˜ ê²ƒê³¼ ê°™ì€ ì´ì¹˜ì…ë‹ˆë‹¤.
  ```jsx
  const [number, setNumber] = useState(0); // < ì—¬ê¸°
  ```
  ìœ„ ì½”ë“œì—ì„œë§Œë“  Stateì˜ ì´ˆê¸°ê°’ì€ `{ } (ê°ì²´)` ì´ê³ , ê·¸ ì•ˆì— `number` ë¼ëŠ” ë³€ìˆ˜ì— ì´ˆê¸°ê°’ 0ì„ í• ë‹¹í•´ì¤€ ê²ƒì…ë‹ˆë‹¤. ì´ˆê¸°ê°’ì€ ê¼­ ê°ì²´ê°€ ì•„ë‹ˆì–´ë„ ë©ë‹ˆë‹¤. ë°°ì—´ì´ ë˜ì–´ë„ ë˜ê³ , ê·¸ëƒ¥ ì›ì‹œë°ì´í„°ê°€ ë¼ë„ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê°ì²´ì—ë„ ì—¬ëŸ¬ê°œì˜ ë³€ìˆ˜ë¥¼ ë„£ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## Reducer ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ëŠ” í•¨ìˆ˜

- **(2) Reducer === ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ëŠ” í•¨ìˆ˜**

  .
  ì•„ë˜ ì½”ë“œë¥¼ `ë¦¬ë“€ì„œ` ë¼ê³  í•©ë‹ˆë‹¤.

  **ë¦¬ë“€ì„œë€, ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ëŠ” `í•¨ìˆ˜`ì…ë‹ˆë‹¤.**

  ë¦¬ë“€ì„œëŠ” í•¨ìˆ˜ë‹¤. ì´ê²ƒì€ ê¸°ì–µí•˜ì.

  ```jsx
  // ë¦¬ë“€ì„œ
  const counter = (state = initialState, action) => {
    switch (action.type) {
      default:
        return state;
    }
  };
  ```

  ìš°ë¦¬ê°€ `useState()`ë¥¼ ì‚¬ìš©í•  ë•Œ, numberë¼ëŠ” ê°’ì„ ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´ setNumberë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

  ì•„ë˜ ì½”ë“œ ì²˜ëŸ¼ numberê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

  ```jsx
  // ì˜ˆì‹œ ì½”ë“œ

  const onClickHandler = () => {
    setNumber(number + 1); // setStateë¥¼ ì´ìš©í•´ì„œ state ë³€ê²½
  };
  ```

  .

  **ë¦¬ë•ìŠ¤ì—ì„œëŠ” ë¦¬ë“€ì„œê°€ ì´ ì—­í• **

  ìš°ë¦¬ê°€ **â€œë¦¬ë“€ì„œì•¼ numberì— +1ë¥¼ í•´ì¤˜"** ë¼ê³  ëª…ë ¹í•˜ë©´, ë¦¬ë“€ì„œëŠ” numberì— +1ì„ ë”í•´ì¤€ë‹¤.

  ê·¸ë˜ì„œ ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ëŠ” í•¨ìˆ˜ë¼ê³  í‘œí˜„í•œ ê²ƒì´ë‹¤.

  ```jsx
  // src/redux/modules/counter.js

  // counter ë¦¬ë“€ì„œ
  const counter = (state = initialState, action) => {
    switch (action.type) {
      default:
        return state;
    }
  };

  export default counter; // ì—¬ê¸°
  ```

  ê·¸ë¦¬ê³  ë¦¬ë“€ì„œì˜ ì¸ìì— ë³´ë©´ `(state = intialState, action)` ì´ë¼ê³  ë˜ì–´ ìˆë‹¤.

  ìš°ë¦¬ëŠ” ë¦¬ë“€ì„œ ì¸ì ì²«ë²ˆì§¸ ìë¦¬ì—ì„œëŠ” `state`ë¥¼, ë‘ë²ˆì§¸ ìë¦¬ì—ì„œëŠ” `action` ì´ë¼ëŠ” ê²ƒì„ êº¼ë‚´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. `state = intialState` ì²˜ëŸ¼ `state`ì— `initialState`ë¥¼ í• ë‹¹í•´ì¤˜ì•¼ í•˜ëŠ” ê²ƒë§Œ ê¸°ì–µí•˜ì.

  ## ëª¨ë“ˆ ê³¼ ìŠ¤í† ì–´ ì—°ê²°

  - **(3) ì¹´ìš´í„° ëª¨ë“ˆì„ ìŠ¤í† ì–´ì— ì—°ê²°í•˜ê¸°**

  ìš°ë¦¬ëŠ” ì§€ê¸ˆê¹Œì§€ ëª¨ë“ˆíŒŒì¼ì—ì„œ ì´ˆê¸° ìƒíƒœê°’ê³¼ ë¦¬ë“€ì„œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. **ì´ì œ ìš°ë¦¬ê°€ ë§Œë“  ëª¨ë“ˆì„ ìŠ¤í† ì–´ì— ì—°ê²° ì‹œì¼œì•¼ í•©ë‹ˆë‹¤.** ì•„ì§ê¹Œì§„ ëª¨ë“ˆê³¼ ìŠ¤í† ì–´ê°€ ê°ê° ë”°ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆëŠ” ìƒíƒœì´ê¸° ë•Œë¬¸ì— ìš°ë¦¬ê°€ ë§Œë“  Stateë¥¼ ìŠ¤í† ì–´ì—ì„œ êº¼ë‚¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

  `configStore.js`ë¡œ ì´ë™í•´ì„œ ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.

  ```jsx
  // src/redux/modules/config/configStore.js

  // ì›ë˜ ìˆë˜ ì½”ë“œ
  import { createStore } from "redux";
  import { combineReducers } from "redux";

  // ìƒˆë¡­ê²Œ ì¶”ê°€í•œ ë¶€ë¶„
  import counter from "../modules/counter";

  const rootReducer = combineReducers({
    counter: counter, // <-- ìƒˆë¡­ê²Œ ì¶”ê°€í•œ ë¶€ë¶„
  });
  const store = createStore(rootReducer);

  export default store;
  ```

  **ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¶”ê°€í•˜ë©´, ìŠ¤í† ì–´ì™€ ëª¨ë“ˆì´ ì—°ê²°ë©ë‹ˆë‹¤.** ì´ë ‡ê²Œ ìŠ¤í† ì–´ì™€ ëª¨ë“ˆì„ ì—°ê²°ì‹œí‚¤ëŠ” ì½”ë“œëŠ” ìš°ë¦¬ê°€ ëª¨ë“ˆì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ë˜‘ê°™ì´ ì§„í–‰í•´ì£¼ë©´ ë©ë‹ˆë‹¤.

  ***

  ## ìŠ¤í† ì–´ì™€ ëª¨ë“ˆ ì—°ê²° í™•ì¸í•˜ê¸°

- **(1) useSelector = ìŠ¤í† ì–´ ì¡°íšŒ**
  ìš°ë¦¬ê°€ ìƒì„±í•œ ëª¨ë“ˆì„ ìŠ¤í† ì–´ì— ì˜ ì—°ê²°í–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ **ì»´í¬ë„ŒíŠ¸ì—ì„œ ìŠ¤í† ì–´ë¥¼ ì§ì ‘ ì¡°íšŒ**í•˜ë©´ ë©ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ë¥¼ ì¡°íšŒí•˜ê³ ì í• ë•ŒëŠ” useSelectorë¼ëŠ” â€˜react-reduxâ€™ì˜ í›…ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
  useSelectorì˜ ì‚¬ìš©ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.
  ```jsx
  // 1. storeì—ì„œ êº¼ë‚¸ ê°’ì„ í• ë‹¹ í•  ë³€ìˆ˜ë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.
  const number =

  // 2. useSelector()ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•´ì¤ë‹ˆë‹¤.
  const number = useSelector()

  // 3. useSelectorì˜ ì¸ìì— í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.
  const number = useSelector( ()=>{} )

  // 4. í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ì¸ìì—ì„œ ê°’ì„ êº¼ë‚´ return í•©ë‹ˆë‹¤.
  // ìš°ë¦¬ê°€ useSelectorë¥¼ ì²˜ìŒ ì‚¬ìš©í•´ë³´ëŠ” ê²ƒì´ë‹ˆ, stateê°€ ì–´ë–¤ ê²ƒì¸ì§€ ì½˜ì†”ë¡œ í™•ì¸í•´ë³¼ê¹Œìš”?
  const number = useSelector((state) => {
  	console.log(state)
  	return state
  });
  ```
  App.js ì»´í¬ë„ŒíŠ¸ë¡œ ì´ë™í•´ì„œ ê¸°ì¡´ì— ìˆë˜ ì½”ë“œë¥¼ ëª¨ë‘ ì§€ìš°ê³ , ì•„ë˜ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
  ```jsx
  // src/App.js

  import React from "react";
  import { useSelector } from "react-redux"; // import í•´ì£¼ì„¸ìš”.

  const App = () => {
    const counterStore = useSelector((state) => state); // ì¶”ê°€í•´ì£¼ì„¸ìš”.
    console.log(counterStore); // ìŠ¤í† ì–´ë¥¼ ì¡°íšŒí•´ë³¼ê¹Œìš”?

    return <div></div>;
  };

  export default App;
  ```
  ## ì»´í¬ë„ŒíŠ¸ì—ì„œ ìŠ¤í† ì–´ë¥¼ ì¡°íšŒí•  ë•Œ
  **`react-redux`ì—ì„œ ì œê³µí•˜ëŠ” `useSelector` ë¼ëŠ” í›…ì„ ì‚¬ìš© (ë„ˆë¬´ë„ˆë¬´ ì¤‘ìš” ğŸ”¥)**
  ë¸Œë¼ìš°ì €ë¥¼ ì¼œê³ , ì½˜ì†”ì„ ë³´ë©´ ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ê°ì²´ê°€ ë³´ì´ê³ , ê·¸ ì•ˆì— counter ë¼ëŠ” ê°’ì´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ë§Œë“  counter ë¼ëŠ” ëª¨ë“ˆì˜ stateê°€ ë³´ì´ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ êº¼ë‚¸ stateë¼ëŠ” ì¸ìëŠ” í˜„ì¬ í”„ë¡œì íŠ¸ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ë¦¬ë•ìŠ¤ ëª¨ë“ˆì˜ state ì¸ ê²ƒ ì…ë‹ˆë‹¤.
  ì´ì œ ìš°ë¦¬ëŠ” ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ì ‘ê·¼ í•  ìˆ˜ ìˆëŠ” ìŠ¤í† ì–´ë¥¼ ê°€ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë§Œì•½ ìš°ë¦¬ê°€ ì»´í¬ë„ŒíŠ¸ì—ì„œ numberë¼ëŠ” ê°’ì„ ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ êº¼ë‚´ì„œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.
  ```
  const number = useSelector(state => state.counter.number); // 0
  ```

```

```
